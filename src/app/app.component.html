<main class="container">
    <h2>findyourpeople.com</h2>
    <p>Set your options, or click search to look for people right away</p>
    <app-options-search-form (parametersEvent)="getParameters($event)"></app-options-search-form>
    <section class="results" *ngIf="(users$ | async)?.results as users">
        <!--? | slice:startIndex:endIndex (1*5:(1+1)*5) = 5:10 -->
        <app-user-card *ngFor="let user of users | slice:pageIndex * pageSize:(pageIndex + 1) * pageSize"
            [userData]="user" (selectedUserEvent)="showUserDetails($event)"
        />
        <mat-paginator
            *ngIf="users.length > 0"
            class="paginator"
            (page)="onPageEvent($event)"
            [length]="users.length"
            [pageSize]="pageSize"
            [showFirstLastButtons]="showFirstLastButtons"
            [hidePageSize]="hidePageSize"
            [pageIndex]="pageIndex"
            aria-label="Select page"
        />
    </section>
    <app-user-details *ngIf="isUserDetailShown" [selectedUser]="selectedUser" (closeDetailEvent)="closeUserDetails()" />
    <section class="error" *ngIf="(users$ | async)?.results?.length == 0">
        <span>We're sorry, but an error occured while fetching the data</span>
    </section>
</main>
